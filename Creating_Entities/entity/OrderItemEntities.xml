<?xml version="1.0" encoding="UTF-8"?>
<entities xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
          xsi:noNamespaceSchemaLocation="http://moqui.org/xsd/entity-definition-3.xsd">
    <entity entity-name="OrderItem" package="tutorial">
        <field name="ORDER_ID" type="id" is-pk="true" required="true"/>
        <field name="ORDER_ITEM_SEQ_ID" type="id" is-pk="true" required="true"/>
        <field name="ORDER_PART_SEQ_ID" type="id" default="null"/>
        <field name="PRODUCT_ID" type="id" default="null"/>
        <field name="ITEM_DESCRIPTION" type="text-medium" default="null"/>
        <field name="QUANTITY" type="number-decimal" default="null"/>
        <field name="UNIT_AMOUNT" type="number-decimal" default="null"/>
        <field name="ITEM_TYPE_ENUM_ID" type="id" default="null"/>
        <field name="PARENT_ITEM_SEQ_ID" type="id" default="null"/>

        <relation relation-name="orderItemToOrderHeader" join-from-alias="orderItem" join-to-alias="orderHeader" type="one">
            <key-map field-name="ORDER_ID" related-field-name="ORDER_ID"/>
        </relation>

        <relation relation-name="orderItemToOrderPart" join-from-alias="orderItem" join-to-alias="orderPart" type="one">
            <key-map field-name="ORDER_ID" related-field-name="ORDER_ID"/>
            <key-map field-name="ORDER_PART_SEQ_ID" related-field-name="ORDER_PART_SEQ_ID"/>
        </relation>

        <relation relation-name="orderItemToProduct" join-from-alias="orderItem" join-to-alias="product" type="one">
            <key-map field-name="PRODUCT_ID" related-field-name="PRODUCT_ID"/>
        </relation>
    </entity>
</entities>
